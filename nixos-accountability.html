<section id="parameters" class="level1">
<h1>Parameters</h1>
<ul>
<li><p>anything on the system can change - so just writing to a file won’t work.</p></li>
<li><p>services can only be disabled through rebuilding - note for subversion</p></li>
<li><p>write wrapper around nixos-rebuild called cleanbrowsing-nixos-rebuild to:</p>
<ul>
<li><p>start a service that monitors resolv.conf and ensures it has a proper nameserver setup (and only that nameserver)</p></li>
<li><p>make the service store a log of the time last checked.</p>
<ul>
<li>file should be created using mkTmp</li>
<li>timestamp on file should be read - if file was modified in any way then the timestamp would reflect this. If timestamp is too old then alert - service was stopped or disabled.</li>
</ul></li>
</ul></li>
</ul>
</section>
<section id="preventing-subversion" class="level1">
<h1>Preventing Subversion</h1>
<ul>
<li><p>I need something that will create a chicken and the egg problem. If I disable one service then another service will alert. And there’s no way to disable 2 services at exactly the same time.</p></li>
<li><p>Each service will read the last line from a log file and ensure it came from the other service. THen write it’s own response.</p></li>
<li><p>Each running service will monitor /etc/nixos/configuration.nix and all related files to ensure that the code to enable itself isn’t modified. If it is alert - this should be done fast enough that rebuilding won’t prevent an alert.</p></li>
</ul>
<div id="tag-links" class="tag-links">
<p><a href="./nixos.html" id="tag-link" class="tag-link" title="nixos">(see nixos)</a></p>
<p><a href="./accountability.html" id="tag-link" class="tag-link" title="accountability">(see accountability)</a></p>
</div>
</section>
